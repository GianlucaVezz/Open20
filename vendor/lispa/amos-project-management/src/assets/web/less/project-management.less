/**
IMPORT AMOS-LAYOUT VARIABLES
 */
@import (optional) "../../vendor/lispa/amos-layout/src/assets/resources/base/less/variables.less";

/**
IMPORT STYLE-CUSTOM
 */
@import (optional) "../../backend/web/less/style_custom.less";

/**
INFO PROJECT MANAGEMENT AREA
 */
@background-color-info-project-area: @primary-color;
@background-color-light-info-project-area: lighten(desaturate(spin(@primary-color, -0.3750), 80.7692), 70.9804);
@color-info-project-area: contrast(@primary-color);

@background-color-info-project-view: lighten(desaturate(spin(@primary-color, -0.3750), 80.7692), 70.9804);

.info-project-area {
  background-color: @background-color-info-project-area;
  border: 15px solid @background-color-info-project-area;
  color: @color-info-project-area;
  .info-header {
    background-color: @background-color-light-info-project-area;
    > div {
      margin: 0 0 @margin-min;
    }
    .info-title {
      color: @primary-color;
      font-size: 2.36em;
      line-height: 1.1;
      padding-left: @padding-medium;
    }
    .info-links {
      display: inline-flex;
      justify-content: space-between;
      padding-right: @padding-medium;
      position: relative;
      top: 7px;
      .project-area-link {
        line-height: 1.1;
        font-size: 1.1em;
        text-transform: uppercase;
        > span:nth-child(1) { //am or dash icon
          display: inline-block; //remove underline from dash icon
          font-size: 1.8em;
          padding-right: @padding-min;
          vertical-align: middle;
        }
        > span:nth-child(2) { //link text
          text-transform: uppercase;
        }
        & + .project-area-link {
          margin-left: @margin-default;
        }
      }
      @media (max-width: 767px) {
        flex-direction: column;
        > a {
          padding: @padding-min 0;
        }
      }
    }
  }
  .info-body {
    margin: 0 0 @margin-default 0;
    .workflow-transition-state-descriptor-widget { /* override */
      border-bottom: none;
      padding: 0;
      width: auto;
      text-transform: none;
      .message{
        color: @background-color-info-project-area;
        background-color: @white-color;
        margin: 0 @margin-default;
        font-weight: bold;
      }
    }
    > div {
      margin: @margin-min 0;
    }
    > .col-lg-10.col-xs-12 {
      margin-top: @margin-default;
      padding-right: @padding-default;
    }
    .col-lg-2 {
      .info-label {
        float: left;
        margin-right: @margin-default;
      }
      @media (min-width: 1199px) {
        .info-value {
          float: right;
        }
      }
    }
    > .col-lg-2.col-lg-push-2 {
      > p {
        text-align: center;
      }
    }
    .info-label.description-label {
      margin: @margin-min auto; /* for description tag p */
    }
    .info-value {
      font-weight: bold;
      &.title {
        font-size: 2em;
        line-height: 1em;
        word-break: break-all;
      }
      &.community {
        font-style: italic;
        line-height: 2em;
        font-weight: normal;
        .community-name { /* override link */
          color: @color-info-project-area;
          text-decoration: underline;
        }
      }
    }
    .col-lg-2:last-child {
      margin-top: @margin-default;
      text-align: center;
    }
    .col-lg-2 .btn.btn-primary {
      width: 100%;
    }
    .info-project-area-accordion { /* override accordion */
      &.ui-accordion.ui-widget {
        .ui-accordion-header {
          text-transform: none;
          border-bottom: 1px solid @color-info-project-area;
          padding: 0;
          > p {
            font-weight: normal;
            word-wrap: break-word;
            .read-more {
              text-transform: uppercase;
              text-decoration: underline;
            }
          }
          .ui-icon-amos {
            font-size: 1.5em;
          }
          &:focus { /* bootstrap override */
            outline-color: transparent;
          }
        }
        .ui-accordion-content.ui-widget-content {
          border: none;
          padding: 0;
          background-color: @background-color-info-project-area;
          color: @color-info-project-area;
          overflow: unset;
          height: auto !important; /* override accordion */
          word-wrap: break-word;
        }
      }
    }
  }
}

/**
CONTAINER SECONDARY ACTIONS (projects-activities view)
 */
.container-secondary-actions {
  margin: @margin-medium 0 @margin-large;
  display: inline-flex;
  justify-content: space-between;
  .btn {
    min-width: 170px;
  }
}

.col-xs-8.container-secondary-actions { //4 buttons align right
  flex-direction: row-reverse;
}

.col-xs-2.container-secondary-actions { //return button align left
  flex-direction: row;
}

/**
NEW-PROJECT-WIZARD view
 */
//--- common ---//
.wizard-description {
  //font-size: 1.3em;
  //line-height: 1.4em;
}

.subtitle-wizard {
  font-weight: bold;
  font-size: 1.3em;
  line-height: 1.35em;
}

.btn-wizard-footer {
  margin-top: 30px;
  .btn + .btn {
    margin-left: 3px;
  }
}

//--- step a ---//
.step-a {
  .wizard-description {
    margin-top: @margin-large;
    font-size: 1.3em;
    line-height: 1.4em;
  }

  .wizard-options {
    margin-top: 30px; //same as btn-wizard-footer
    .wizard-option-1,
    .wizard-or,
    .wizard-option-2 {
      padding: @padding-medium;
      min-height: 155px;
      > p {
        margin: 0;
      }
      button.btn > .am {
        margin-left: @margin-min;
      }
    }
    .wizard-option-1 {
      background-color: @light-background-color;
      .btn-container {
        position: absolute;
        bottom: @margin-default;
        text-align: center;
        left: -@padding-medium;
      }
    }
    .wizard-or {
      font-size: 1.3em;
      line-height: 1.35em;
      font-style: italic;
      text-align: center;
      font-weight: bold;
      > p {
        margin-top: 60px;
        text-transform: uppercase;
      }
    }
    .wizard-option-2 {
      background-color: @background-color-light-info-project-area;
      .form-and-button {
        position: absolute;
        bottom: @margin-default;
        right: 0;
        left: 0;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        .form-group {
          margin-bottom: 0; //override form-group
          width: 70%;
          z-index: 1;
          position: relative;
          .select2-container.select2-container--krajee .selection .select2-selection { //override
            background-color: @white-color;
          }
        }
        .btn-navigation-primary {
          margin-right: @margin-min;
          margin-bottom: 2px;
        }
      }
    }
    .btn-wizard-footer {
      margin-top: 30px; //same as wizard-options
    }
  }
}

//--- step b ---//
.step-b {
  .subtitle-wizard {
    margin: 0 0 @margin-large;
  }
  .subsection {
    background-color: @light-background-color;
    margin-top: @margin-default;
    .subsection-title-container {
      background-color: @primary-color;
      color: contrast(@primary-color);
      padding: @padding-min @padding-medium;
    }
    .radio-confirm .radio {
      display: inline-block;
      font-weight: bold;
    }
  }
}

//--- step c ---//
.step-c {
  .subtitle-wizard {
    margin: 0;
  }
  .form-group.field-stepc-passstep {
    margin: 0;
  }
  .selected-users {
    background-color: @light-background-color;
    h3 {
      color: @primary-color;
    }
    .table > thead > tr > th {
      border-bottom-color: @white-color; //override tables
    }
    .empty { //default yii2 renderEmpty() class
      position: absolute;
    }
  }
  .search-users-index {
    .btn, h3 {
      margin-top: 25px;
    }
  }
}

/**
PROJECT PROGRESS STATEMENT
PROJECT PROGRESS COSTS
 */
.projects-progress-statements-form,
.projects-progress-costs-form {
  .subtitle-form {
    margin-bottom: 0;
  }
}

.info-project-progress-statements-area,
.info-project-progress-costs-area {
  background-color: @background-color-light-info-project-area;
  border: 15px solid @background-color-light-info-project-area;
  color: @black-color;
  margin-bottom: @margin-default;
  .info-body {
    margin: 0;
    > div {
      margin: @margin-min 0;
    }
    .col-lg-4 .info-label {
      float: left;
    }
    .info-value {
      font-weight: bold;
    }
  }
}

/**
PROJECT TASKS
 */
.ui-accordion.ui-widget {
  .table > tbody > tr > th { //delete cell border into table on accordion content
    border-top: none; //bootstrap override
    padding: 4px; //bootstrap override
    vertical-align: middle;
    &.active {
      background-color: @background-color-light-info-project-area;
    }
  }
  .table > tbody > tr:last-child > th,
  .table > tbody > tr:last-child > th.active {
    background-color: @primary-color;
    color: contrast(@primary-color);
  }
}

/**
PROJECT MODIFY REQUEST
 */
.projects-modify-request-form {
  .am-long-arrow-return {
    transform: scaleX(-1);
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -ms-transform: scaleX(-1);
  }
}

#costs, #statements, .projects-progress-statements-view {
  .am-long-arrow-return {
    transform: scaleX(-1);
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -ms-transform: scaleX(-1);
  }
}

/**
PROJECT VIEW
 */
.projects-form {
  .info-view-header {
    background-color: @background-color-info-project-view;
    padding: @padding-default;
    margin-bottom: @margin-default;
    .info-body {
      > div {
        margin-bottom: @margin-default;
        &:first-child {
          margin-top: @margin-large;
        }
      }
      .info-label {
        font-weight: bold;
        text-align: right;
        padding-right: @padding-medium;
      }
    }
    .manage { /* override */
      margin-top: 0px;
      position: absolute;
      right: 0px;
      z-index: 999;
    }
  }

  .info-view-body {
    > div {
      margin-bottom: @margin-default;
    }
    .info-label {
      font-weight: bold;
      &.description-label {
        margin: @margin-min auto; /* for description tag p */
      }
    }

  }

  .container-action-form {
    background-color: @light-background-primary-color; //same as @toolbar-background-color toolbar.less
    padding: @padding-medium @padding-default;
    margin-bottom: @margin-min; // same as [data-toggle-element^="form"] margin-top
    margin-top: -@margin-default;
    float: left;
    width: 100%;
    > .btn {
      float: right;
    }
  }

}
